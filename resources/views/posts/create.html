{% extends "base/base.html" %}

{% block title %}
{{title ?? 'Criar Post'}}
{% endblock title %}

{% block body %}

<div class="card card-body bg-light mt5">
    <h2>Add Post</h2>
    <p>Crie um post com esse formul√°rio</p>
    <form action="{{BASE}}/posts/store" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="title">Titulo<sup>*</sup></label>
            <input type="text" name="title" id="title" class="form-control form-control-lg {{ data.title_error != '' ? 'is-invalid' : '' }}" value="{{ data.title ?? '' }}">
            <span class="invalid-feedback">
                {{ data.title_error }}
            </span>
        </div>
        
        <div class="form-group">
            <label for="img_path">Imagem da postagem</label>
            <input type="file" name="img_path" id="img_path" class="form-control form-control-lg {{ data.img_path_error != '' ? 'is-invalid' : '' }}" value="{{ img_path.name ?? '' }}">
            <span class="invalid-feedback">
                {{ data.img_path_error }}
            </span>
            {% if imgFullPath %}
                <img src="../public/{{imgFullPath}}" alt="">
            {% endif %}
        </div>

        <div class="form-group">
            <label for="body">Digite o texto: <sup>*</sup></label>
            <textarea name="body" id="body" class="form-control form-control-lg {{ data.body_error != '' ? 'is-invalid' : '' }}">
                        {{ data.body ?? '' }}
                    </textarea>
            <span class="invalid-feedback">
                {{ data.body_error }}
            </span>
        </div>

        <input type="submit" class="btn btn-success" value="Enviar">
    </form>
</div>

<ul>
{% for user in users %}
  
{% endfor %}
</ul>

{% endblock %}